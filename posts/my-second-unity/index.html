<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>3D游戏编程作业2-牧师与恶魔 - Adbean&#39;s Blog</title><meta name="Description" content="Adbean&#39;s Blog"><meta property="og:title" content="3D游戏编程作业2-牧师与恶魔" />
<meta property="og:description" content="编程实践：牧师与恶魔 阅读以下游戏脚本 Priests and Devils Priests and Devils is a puzzle game in which you will help the Priests and Devils to cross the river within the time limit. There are 3 priests and 3 devils at one side of the river. They all want to get to the other side of this river," />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://ad-bean.github.io/posts/my-second-unity/" /><meta property="og:image" content="http://ad-bean.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-07T11:21:42+08:00" />
<meta property="article:modified_time" content="2021-10-07T11:21:42+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://ad-bean.github.io/logo.png"/>

<meta name="twitter:title" content="3D游戏编程作业2-牧师与恶魔"/>
<meta name="twitter:description" content="编程实践：牧师与恶魔 阅读以下游戏脚本 Priests and Devils Priests and Devils is a puzzle game in which you will help the Priests and Devils to cross the river within the time limit. There are 3 priests and 3 devils at one side of the river. They all want to get to the other side of this river,"/>
<meta name="application-name" content="Adbean&#39;s Blog">
<meta name="apple-mobile-web-app-title" content="Adbean&#39;s Blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/Owl.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://ad-bean.github.io/posts/my-second-unity/" /><link rel="prev" href="http://ad-bean.github.io/posts/my-first-unity/" /><link rel="next" href="http://ad-bean.github.io/posts/my-third-unity/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "3D游戏编程作业2-牧师与恶魔",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/ad-bean.github.io\/posts\/my-second-unity\/"
        },"genre": "posts","keywords": "3D游戏编程, 作业","wordcount":  1971 ,
        "url": "http:\/\/ad-bean.github.io\/posts\/my-second-unity\/","datePublished": "2021-10-07T11:21:42+08:00","dateModified": "2021-10-07T11:21:42+08:00","publisher": {
            "@type": "Organization",
            "name": "Adbean"},"author": {
                "@type": "Person",
                "name": "Adbean"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Adbean&#39;s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/Owl.ico"
        data-srcset="/Owl.ico, /Owl.ico 1.5x, /Owl.ico 2x"
        data-sizes="auto"
        alt="/Owl.ico"
        title="/Owl.ico" />Adbean&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/"> 主页 </a><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/posts/my-index/"> 索引 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Adbean&#39;s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/Owl.ico"
        data-srcset="/Owl.ico, /Owl.ico 1.5x, /Owl.ico 2x"
        data-sizes="auto"
        alt="/Owl.ico"
        title="/Owl.ico" />Adbean&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/" title="">主页</a><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/posts/my-index/" title="">索引</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">3D游戏编程作业2-牧师与恶魔</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://adbean.gitee.io/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Adbean</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E4%BD%9C%E4%B8%9A/"><i class="far fa-folder fa-fw"></i>作业</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-10-07">2021-10-07</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1971 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 4 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#编程实践牧师与恶魔">编程实践：牧师与恶魔</a></li>
    <li><a href="#项目代码与项目视频演示">项目代码与项目视频演示</a></li>
    <li><a href="#项目文档">项目文档</a>
      <ul>
        <li><a href="#项目配置过程">项目配置过程</a></li>
        <li><a href="#游戏对象-objects-和预制资源-prefab">游戏对象 Objects 和预制资源 Prefab</a></li>
        <li><a href="#玩家动作表">玩家动作表</a></li>
        <li><a href="#职责设计与-mvc-框架">职责设计与 MVC 框架</a></li>
        <li><a href="#主要代码">主要代码</a></li>
        <li><a href="#运行效果">运行效果</a></li>
        <li><a href="#项目心得">项目心得</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="编程实践牧师与恶魔">编程实践：牧师与恶魔</h2>
<ul>
<li>阅读以下游戏脚本</li>
</ul>
<blockquote>
<p>Priests and Devils</p>
<p>Priests and Devils is a puzzle game in which you will help the Priests and Devils to cross the river within the time limit. There are 3 priests and 3 devils at one side of the river. They all want to get to the other side of this river, but there is only one boat and this boat can only carry two persons each time. And there must be one person steering the boat from one side to the other side. In the flash game, you can click on them to move them and click the go button to move the boat to the other direction. If the priests are out numbered by the devils on either side of the river, they get killed and the game is over. You can try it in many &gt; ways. Keep all priests alive! Good luck!</p>
</blockquote>
<p>程序需要满足的要求：</p>
<ul>
<li>play the game ( <a href="http://www.flash-game.net/game/2535/priests-and-devils.html" target="_blank" rel="noopener noreffer">http://www.flash-game.net/game/2535/priests-and-devils.html</a> )</li>
<li>列出游戏中提及的事物（Objects）</li>
<li>用表格列出玩家动作表（规则表），注意，动作越少越好</li>
<li>请将游戏中对象做成预制</li>
<li>在 <code>GenGameObjects</code> 中创建 长方形、正方形、球 及其色彩代表游戏中的对象。</li>
<li>使用 <strong>C# 集合类型</strong> 有效组织对象</li>
<li>整个游戏仅<strong>主摄像机</strong>和 一个 <code>Empty</code> 对象， <strong>其他对象必须代码动态生成！<strong>整个游戏不许出现 <code>Find</code> 游戏对象， <code>SendMessage</code> 这类突破程序结构的</strong>通讯耦合</strong>语句。 <strong>违背本条准则，不给分</strong></li>
<li>请使用课件架构图编程，<strong>不接受非 MVC 结构程序</strong></li>
<li>注意细节，例如：船未靠岸，牧师与魔鬼上下船运动中，均不能接受用户事件！</li>
</ul>
<p>3、思考题【选做】</p>
<ul>
<li>使用向量与变换，实现并扩展 <code>Tranform</code> 提供的方法，如 <code>Rotate</code>、<code>RotateAround</code> 等</li>
</ul>
<h2 id="项目代码与项目视频演示">项目代码与项目视频演示</h2>
<blockquote>
<p>博客地址：<a href="https://ad-bean.github.io/" target="_blank" rel="noopener noreffer">Github 博客</a></p>
<p>项目地址：<a href="https://gitee.com/adbean/Unity-3DGameProgramming" target="_blank" rel="noopener noreffer">Gitee 博客</a></p>
<p>作业 2：牧师与恶魔视频展示：<a href="https://www.bilibili.com/video/BV1sq4y1V7Cv/" target="_blank" rel="noopener noreffer">Bilibili</a></p>
</blockquote>
<h2 id="项目文档">项目文档</h2>
<h3 id="项目配置过程">项目配置过程</h3>
<p>将 <code>Assets</code> 文件夹下的文件全拖入新建项目后，点击新导入的 <code>Scene/</code> 中的 <code>PriestAndDevil</code> 场景，开始游戏后即可打开项目。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110071044566.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110071044566.png, https://gitee.com/AdBean/img/raw/master/images/202110071044566.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110071044566.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110071044566.png"
        title="image-20211007104426401" /></p>
<h3 id="游戏对象-objects-和预制资源-prefab">游戏对象 Objects 和预制资源 Prefab</h3>
<p>游戏涉及到的游戏对象（<code>GameObject</code>）：Priests、Devils、Boat、Coast、River ，使用了 Unity Asset 商店提供的免费素材与预制资源 Prefabs，也可以将其替换为长方体、球体等等。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062101303.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062101303.png, https://gitee.com/AdBean/img/raw/master/images/202110062101303.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062101303.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062101303.png"
        title="image-20211006210155268" /></p>
<table>
<thead>
<tr>
<th style="text-align:center">游戏对象</th>
<th style="text-align:center">预设对象</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">牧师</td>
<td style="text-align:center"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062055932.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062055932.png, https://gitee.com/AdBean/img/raw/master/images/202110062055932.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062055932.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062055932.png"
        title="image-20211006205510888" /></td>
</tr>
<tr>
<td style="text-align:center">恶魔</td>
<td style="text-align:center"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062055814.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062055814.png, https://gitee.com/AdBean/img/raw/master/images/202110062055814.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062055814.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062055814.png"
        title="image-20211006205526759" /></td>
</tr>
<tr>
<td style="text-align:center">船</td>
<td style="text-align:center"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062054234.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062054234.png, https://gitee.com/AdBean/img/raw/master/images/202110062054234.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062054234.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062054234.png"
        title="image-20211006205440186" /></td>
</tr>
<tr>
<td style="text-align:center">河岸</td>
<td style="text-align:center"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062055625.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062055625.png, https://gitee.com/AdBean/img/raw/master/images/202110062055625.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062055625.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062055625.png"
        title="image-20211006205537590" /></td>
</tr>
<tr>
<td style="text-align:center">河流</td>
<td style="text-align:center"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062055348.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062055348.png, https://gitee.com/AdBean/img/raw/master/images/202110062055348.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062055348.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062055348.png"
        title="image-20211006205547298" /></td>
</tr>
</tbody>
</table>
<h3 id="玩家动作表">玩家动作表</h3>
<table>
<thead>
<tr>
<th style="text-align:center">玩家动作</th>
<th style="text-align:center">游戏对象具体行为</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">点击对象（牧师 / 恶魔）</td>
<td style="text-align:center">如果对象处于船上，则上岸</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">如果对象处于岸上，且船有空位，则上船，否则无动作</td>
</tr>
<tr>
<td style="text-align:center">点击船体</td>
<td style="text-align:center">船为空，无操作</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">船不为空，移动船体到对岸</td>
</tr>
</tbody>
</table>
<h3 id="职责设计与-mvc-框架">职责设计与 MVC 框架</h3>
<p>面向对象设计的核心是<strong>基于职责的设计</strong>，根据其核心，设计出游戏的基本框架设计：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062120446.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062120446.png, https://gitee.com/AdBean/img/raw/master/images/202110062120446.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062120446.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062120446.png"
        title="img" /></p>
<ul>
<li>导演一名（仅要一个）
<ul>
<li>类型：<code>Director</code></li>
<li>职责：把握全局，控制场景</li>
</ul>
</li>
</ul>
<p>实现一个<strong>单例类</strong>作为导演，用于场景切换，控制游戏运行状态。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="k">namespace</span> <span class="nn">PriestsAndDevils</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">class</span> <span class="nc">Director</span> <span class="p">:</span> <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="p">{</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">running</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">private</span> <span class="k">static</span> <span class="n">Director</span> <span class="n">instance</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">ISceneController</span> <span class="n">currentSceneController</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Director</span> <span class="n">GetInstance</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">instance</span> <span class="p">??</span> <span class="p">(</span><span class="n">instance</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Director</span><span class="p">());</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><ul>
<li>
<p>场景若干</p>
<ul>
<li>抽象类型（角色）：<code>ISceneController</code></li>
<li>具体类型：<code>FirstController</code></li>
<li>职责：第一场的场记，控制布景、演员的上下场、管理动作等执行。</li>
</ul>
</li>
<li>
<p>观众一个</p>
<ul>
<li>抽象类型：<code>IUserAction</code></li>
<li>具体类型：<code>IUserAction</code></li>
<li>职责：边吃瓜子边和场记聊天</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="k">namespace</span> <span class="nn">PriestsAndDevils</span> <span class="p">{</span>

  <span class="k">public</span> <span class="k">interface</span> <span class="n">ISceneController</span> <span class="p">{</span>
    <span class="k">void</span> <span class="n">LoadResources</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">interface</span> <span class="n">IUserAction</span> <span class="p">{</span>
    <span class="k">void</span> <span class="n">Reset</span><span class="p">();</span>
    <span class="k">void</span> <span class="n">ClickBoat</span><span class="p">();</span>
    <span class="k">void</span> <span class="n">ClickSprite</span><span class="p">(</span><span class="n">SpriteController</span> <span class="n">sprite</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h4 id="mvc-架构">MVC 架构</h4>
<p>根据 Unity 项目视图设计器给出的推荐组织方案，本项目的文件目录如下：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062124996.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062124996.png, https://gitee.com/AdBean/img/raw/master/images/202110062124996.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062124996.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062124996.png"
        title="image-20211006212407957" /></p>
<h4 id="scenecontroller-场景控制">SceneController 场景控制：</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062127935.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062127935.png, https://gitee.com/AdBean/img/raw/master/images/202110062127935.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062127935.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062127935.png"
        title="image-20211006212727889" /></p>
<ul>
<li>由于场景控制实现了 <code>ISceneController</code> 接口，以及 <code>LoadResources()</code>，所以当导演切换场景时，就可以利用多态的特性，让不同场景加载不同资源。</li>
<li>在场景被加载（awake）时，它也会自动注入导演，作为当前场景</li>
<li>同时实现了观众接口，实现了 <code>Reset()</code>, <code>ClickBoat()</code> 和 <code>ClickSprite(SpriteController s)</code> 等方法。</li>
</ul>
<h3 id="主要代码">主要代码</h3>
<p>本项目的逻辑较为简单，由于每个对象的职责、动作较少，并且由于对象必须用<strong>代码动态生成</strong>，所以在 <code>Controllers</code> 中实现实体的连接、交互，<code>Models</code> 中实现实体的函数、方法。在 <code>Views</code> 中实现场景的主要布局：</p>
<h4 id="views">Views</h4>
<p>在 <code>Views/GameGUI.cs</code> 中，获得单例的导演，在 <code>OnGUI()</code> 中渲染得到主要布局，并且在 <code>Update()</code> 中监听鼠标的按下操作，并且根据点击的对象是精灵或是船，做出不同操作：</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062137317.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062137317.png, https://gitee.com/AdBean/img/raw/master/images/202110062137317.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062137317.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062137317.png"
        title="image-20211006213749255" /></p>
<h4 id="models">Models</h4>
<p>在 <code>Models</code> 中有精灵类、船类、岸类，其中船具有当前位置、起始、结束地址，检查是否有空位和获取当前船上的总物体数等等，而岸也同样也具有这些方法，但其容量和船是不同的。</p>
<p>精灵类由于其只有上岸、上船两个动作，比较简单，除此之外，还需要获取其名称以区分是牧师还是魔鬼，以及当前的位置。</p>
<p>最后实现一个公用的工具类，以提取预制资源 <code>Prefab</code> 动态创建对象。</p>
<h5 id="精灵类">精灵类：</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062145058.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062145058.png, https://gitee.com/AdBean/img/raw/master/images/202110062145058.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062145058.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062145058.png"
        title="image-20211006214522021" /></p>
<h5 id="船体岸类">船体、岸类：</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062146756.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062146756.png, https://gitee.com/AdBean/img/raw/master/images/202110062146756.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062146756.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062146756.png"
        title="image-20211006214605698" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062150059.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062150059.png, https://gitee.com/AdBean/img/raw/master/images/202110062150059.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062150059.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062150059.png"
        title="image-20211006215043996" /></p>
<h5 id="公用工具类">公用工具类：</h5>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062147228.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062147228.png, https://gitee.com/AdBean/img/raw/master/images/202110062147228.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062147228.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062147228.png"
        title="image-20211006214756187" /></p>
<h4 id="controllers">Controllers</h4>
<p>控制器主要用于实体 <code>Models</code> 之间的沟通以及对当前场景的控制，除了导演、第一幕场景与观众以外，还有对船体、岸、精灵的控制器：</p>
<h4 id="spritecontoller">SpriteContoller</h4>
<p>精灵控制器需要确定当前精灵是否可以上岸、上船，以及获得当前精灵的名字、位置。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062156819.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062156819.png, https://gitee.com/AdBean/img/raw/master/images/202110062156819.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062156819.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062156819.png"
        title="image-20211006215605763" /></p>
<h4 id="boatcontroller">BoatController</h4>
<p>船控制器同样用于沟通海岸与精灵，决定其是否可以上船、上岸，以及移动函数。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062157861.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062157861.png, https://gitee.com/AdBean/img/raw/master/images/202110062157861.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062157861.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062157861.png"
        title="image-20211006215700813" /></p>
<h4 id="coastcontroller">CoastController</h4>
<p>同样地，海岸控制器不再赘述。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062157871.png"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062157871.png, https://gitee.com/AdBean/img/raw/master/images/202110062157871.png 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062157871.png 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062157871.png"
        title="image-20211006215756821" /></p>
<h3 id="运行效果">运行效果</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062200346.gif"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062200346.gif, https://gitee.com/AdBean/img/raw/master/images/202110062200346.gif 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062200346.gif 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062200346.gif"
        title="preview" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://gitee.com/AdBean/img/raw/master/images/202110062201771.gif"
        data-srcset="https://gitee.com/AdBean/img/raw/master/images/202110062201771.gif, https://gitee.com/AdBean/img/raw/master/images/202110062201771.gif 1.5x, https://gitee.com/AdBean/img/raw/master/images/202110062201771.gif 2x"
        data-sizes="auto"
        alt="https://gitee.com/AdBean/img/raw/master/images/202110062201771.gif"
        title="preview" /></p>
<h3 id="项目心得">项目心得</h3>
<p>一开始实现本次项目时，感觉无从下手，在反复阅读老师给出的文档，以及往届学长的优秀作业后，终于有了一些思路。并且对 MVC 架构有了更深刻的认识，在该项目中加深了尤其对于 <code>Controller</code> 的理解，以及其实现与作用。虽然本次项目场景、对象不多，实现起来逻辑也较为清晰，但仍然花了不少时间。</p>
<p>并且有了上一次作业的经验，严格遵守 ECS 原则，在行为方法中修改模型，而不在其中修改界面。仅在 Views 中渲染和控制、修改模型。</p>
<p>结合课上老师对于 Unity Assets 商店的介绍，我基于 Unity 初始的默认对象，加入了资源商店中一些免费的低模模型，项目体积可能较大，但美观不少。</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2021-10-07</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/3d%E6%B8%B8%E6%88%8F%E7%BC%96%E7%A8%8B/">3D游戏编程</a>,&nbsp;<a href="/tags/%E4%BD%9C%E4%B8%9A/">作业</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/my-first-unity/" class="prev" rel="prev" title="3D游戏编程作业1-井字棋"><i class="fas fa-angle-left fa-fw"></i>3D游戏编程作业1-井字棋</a>
            <a href="/posts/my-third-unity/" class="next" rel="next" title="3D游戏编程作业3-牧师与恶魔动作分离版">3D游戏编程作业3-牧师与恶魔动作分离版<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.88.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://adbean.gitee.io/" target="_blank">Adbean</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
